this is a fully functional code for creaing of VPC, Two subnets (public + private), Route tables & NAT gateway, Security groups ,EC2 instance in public subnet
